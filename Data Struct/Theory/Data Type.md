---
file-created: 2023 11 25
last-modified: 2023 11 30
---


## Why ? 

更高的性能? 更"简单"的解决问题方式? 提前认识常见问题和其解决方案. 

我们如果设计一个数据结构的化,肯定性能要好,不然使用它还有什么意义呢? 

| 名称               | 例子                              | 是否有具体实例 |  范围                   |
| ------------------ | --------------------------------- | ---- |:---------------------------------- |
| Abstract Data Type | `hashtable`, `union set`          |  无, 这是一个表征    | 大,可以高度概括                    |
| Data Structure     | Java中的`hashmap`,python中的`set` |  有,前面的例子都是    | 小,具体到编程语言的某个对象/结构体 |


>[!note] 虽然我们通常不会将`int` `float` 这种简单的数据类型作为数据结构来讨论,在我看来,它们也是一种数据结构,不过比较简单. 


>[!tip] 定义一个数据类型/数据结构
  域 domain 和 操作 operator.
> 前者限定值范围,后者限定如何对值进行计算. 


>[!example] C语言中的int
>domain :  $-2^{31} - 2^{31}$ 
>operator : `+ - * /`

## string 

>[!note] 说实话,字符串其实是一个非常令人头疼的存在. 
>我们先不考虑编码的问题,就只考虑一个最常见的情况. 换言之,每个字符都只占据一个字节.

>[!example] 字符串的复杂性
> ```python
> a = "hello "
> b = "world" 
> a = a + b
> print(a)
> ```
> 你可以在创建`a`这个变量时知道它要存储的内容,所以你可以申请一块长度为6的字节数组用于存放内容,同理`b`用长度为`5`的字节数组来存储内容. 但是第三行需要将`a`和`b`拼接的结果重新赋值给`a`就会出现歧义.
>>[!faq] 初始时`a`的长度是6,赋值后是否修改其长度? 
>
>如果修改了长度就意味着必须重新开辟字节数组用于存放对象-- 每一次字符串的长度只要变化了(或者只当长度超过当前长度),都需要重新申请内存空间. 
>这样的实现其实是没有问题的,但是我们很多时候都需要考虑效率,如果不考虑效率,那么你完全可以不需要学习数据结构. 

一种可能的字符串实现.其实看见很多人的代码,这样你就会强了不是吗?  

```c
struct String{
 size_t length;
 chars [10]chars
}
```


>[!error]-
> 低效的字符串拼接 
>实际上,很多编程语言字符串的实现都和上面是类似的,所以在追求性能的场景下,你最好不要直接进行字符串拼接操作. 有很多优化方式. 



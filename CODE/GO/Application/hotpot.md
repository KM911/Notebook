---
file-created: 2023 11 15
last-modified: 2024 01 01
---

[[热编译技术原理]]

## Feature

## Route Map
## Bug日志


| 日期         | Bug描述                      | Bug原因                                                | 是否解决            | 经验  | 解决方案                        |
| ---------- | -------------------------- | ---------------------------------------------------- | --------------- | --- | --------------------------- |
| 2024-02-15 | 监听文件失效                     | 由于debounced只检查最后一次event,如果是一个git仓库,就会修改.git文件,导致监听失效 | ? 不建立git仓库      |     |                             |
| 2024-02-20 | 如果command存在修改文件的操作,会出现无限循环 | command命令的修改会二次触发inotify,进而导致连锁反应继续触发command         | 不应该监听的文件类型不匹配吗? |     | 1.parse  command, 过滤其中存在的规则 |


###  2024-02-15 

### 2024-01-01   对于监听的文件类型,没有正确修改.对于command可以热加载

问题发生的原因, 我们确实在检测到 `hotpot.toml` 文件后重新加载配置文件.

![[hotpot-20240101103059864.webp]]

但是对于监听的文件类型是利用`WatchFiles`这个map来进行匹配的,没有修改它的值,导致配置文件的修改没有完全生效. 
![[hotpot-20240101103254202.webp]]

解决方式 : 在加载完配置文件后,重新加载watch环境(执行其init函数). 
不过由于init函数是无法直接执行的,所以创建了一个新的函数. 

![[hotpot-20240101103527513.webp]]

![[hotpot-20240101103539376.webp]]


总结和反思 : 没有考虑周全,因为其实这是一个很简单的小问题





### 2024-01-05 无法监听没有类型后缀的文件,比如Makefile

解决方式,在 `Evnethandle`初始化时做一个处理.

![[hotpot-20240105145530192.webp]]

## Only do one thing 

>[!quote]  Functions should do one thing. They should do it well. They should do it only. 

>[!faq] The problem is how do *you* define "one thing"?

>[!tip] Basic Rule 
>One refer to logic same part. 
>


功能一致的放到一起,认为是就是one比较好. 

## Less is more 

>[!note] For function, zero argument is best and one argument is better. 
>Because input will make the complex growing . Different input will have same effect or some input is valid. It not only make it hard to write function , but also hard to understand the purpose of function. 



### Input ? Output ! 

>[!warning] Some function is a bit weird. its input is output in fact.  

>[!exp] Scanf
>```c
>int main(){
>int a ;
>scanf("%d",&a);
>printf("a=%d",a);
>}
>```

>[!tip] If possible, never write this function


## Error Handle 

>[!note] Try catch 
>it will not make code become more strong , but it will make code more clean. 


>[!exp] C error handle 

if you want allocate a block memory to store the data of file. your code maybe look like this. 
```c
int *arr = malloc(sizeof(int) * 100);  
if (arr == NULL) {  
    perror("Error allocating memory");  
    return 1;  
}
fp = fopen("file.txt", "r");  
if (fp == NULL) {  
    perror("Error opening file");  
    return 1;  
}  
  
if (fgets(buffer, sizeof(buffer), fp) == NULL) {  
    perror("Error reading file");  
    fclose(fp);  
    return 1;  
}
```


this code is hard to read cause it has too much noise -- the error handle . this is why java python and other programming language will use try/catch to do error handle .

if C support it, your code will look like. 
```c
try {
    int *arr = malloc(sizeof(int) * 100);  
    fp = fopen("file.txt", "r");  
    fgets(buffer, sizeof(buffer), fp) 
     }catch(error) {
     switch error {
     case allocatingError ...
     case fileNotExit ...
     }
     
     }
```


## Use Context to write clean code 

>[!note] Software is a engernn project. 

>[!exp] 比如我是通过 folder.walk获取到的文件名,那么就可以确保该文件路径是正确的,就可以不进行任何的错误处理. 

很多时候具体的项目背景可以帮助我们减少很多代码的书写. 

又比如我们可以明确我们是在windows客户端上,我们就可以确定一定是有cmd的. 

## Option 参数 

对于多参数的函数 ? 什么函数是多参数的 ? 比如http请求,其实是一个多参数请求的,可能需要设置超时时间,是否重试,url,proxy等等一系列问题. 


比较好的实践 -- fiber 不知道,有的还是利用function去创建的 
#TODO


## Train wreck

火车的头如果脱轨了,那么其后续车厢也会脱轨.

对应到我们的代码中就是,链式调用中其中的一步出现了问题,就会导致整个流程出现问题. 


任何情况下都不可以使用链式调用吗? 当且仅当你是在操作单一对象. 

这里其实最好可以给出更加好的例子,不然可能无法让我们幸福. 


## 面向对象vs面向过程 

不存在谁比谁好. 

>[!tip] 面向过程更加适合为数据结构添加新的函数,但是如果面向对象想要添加,通常需要将整个继承链上的对象全部都修改. 同理,对于面向对象想要创建新的子类就非常方便,但是面向过程就必须将其函数全部重写一遍 

>[!example] 
>```java
>
>```

#TODO 

---
file-created: 星期六, 十一月 ,2023
last-modified: 星期日, 十一月 ,2023
---

# 爬虫

## js混淆

![image-20230825154858700](http://81.68.91.70/pg/image/KMPyNltxPiUA.png)

## xpath

![image-20230826173654276](http://81.68.91.70/pg/image/KM7sGwtLgW5n.png)

./ 指的是局部的根元素                             单一个 / 指的就是html标签

## Selenium

最新版的selenium是有了新的语法

首先引入头文件：

```python
from selenium.webdriver.common.by import By
```

```python
# inputTag = driver.find_element_by_id("value")  # 利用ID查找
# 改为：
inputTag = driver.find_element(By.ID, "value")

# inputTags = driver.find_element_by_class_name("value")  # 利用类名查找
# 改为：
inputTag = driver.find_element(By.CLASS_NAME, "value")

# inputTag = driver.find_element_by_name("value")  # 利用name属性查找
# 改为：
inputTag = driver.find_element(By.NAME, "value")

# inputTag = driver.find_element_by_tag_name("value")  # 利用标签名查找
# 改为：
inputTag = driver.find_element(By.TAG_NAME, "value")

# inputTag = driver.find_element_by_xpath("value")  # 利用xpath查找
# 改为：
inputTag = driver.find_element(By.XPATH, "value")

# inputTag = driver.find_element_by_css_selector("value")  # 利用CSS选择器查找
# 改为：
inputTag = driver.find_element(By.CSS_SELECTOR, "value")

```

### 动作链

![image-20230830174347524](http://81.68.91.70/pg/image/KMiVCdbJivXQ.png)

### 设置无头浏览器

首先导入对应的包：

```python
from selenium.webdriver import EdgeOptions
```

​	其次：

```python
options = EdgeOptions()
options.add_argument("--headless")
```

## 下载scrapy

```python
pip install wheel
```

​	下载twisted

```
https://www.lfd.uci.edu/~gohlke/pythonlibs/#twisted
```

```python
pip install twiste
```

```python
pip install -i https://pypi.tuna.tsinghua.edu.cn/simple scrapy
```

ok






## scrapy的持久化的存储

### 基于终端指令

​	只可以将parse方法的返回值存储到本地的文件中

​	只能存储到 后缀为 json，  xml， csv 的文件中

### 基于管道

如果是字符串的数据的话，那么直接解析后传给管道完成持久化存储

#### 爬取图片Images

只能解析获得图片地址，取得src后请求获得二进制数据


